# 이메일 발송 설정 - 빠른 가이드

## ⚠️ 현재 상태
- 이메일 API: ✅ 작동 중
- 발송 로그 저장: ✅ 작동 중
- **실제 이메일 발송**: ❌ SMTP 설정 필요

---

## 🚀 3분 만에 설정 완료하기

### 방법 1: Gmail 사용 (가장 추천)

**1단계: Gmail 앱 비밀번호 생성**

```
1. https://myaccount.google.com/ 접속
2. "보안" 클릭
3. "2단계 인증" 켜기 (이미 켜져 있다면 스킵)
4. "앱 비밀번호" 클릭
5. "앱 선택" → "메일" → "기타(사용자 지정 이름)"
6. 앱 이름: "SaleManager" 입력
7. 생성된 16자 비밀번호 복사
   예: abcd efgh ijkl mnop
```

**2단계: .env 파일 수정**

아래 경로의 파일을 열고 이메일 설정을 본인 정보로 변경하세요:

```bash
파일: salemanager-backend/.env

# 아래 내용을 본인 Gmail 정보로 수정
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_SECURE=false
EMAIL_USER=본인@gmail.com           # 본인 Gmail 주소
EMAIL_PASS=abcd_efgh_ijkl_mnop      # 생성한 앱 비밀번호
EMAIL_FROM="SaleManager <본인@gmail.com>"
```

**3단계: 백엔드 서버 재시작**

```bash
cd salemanager-backend
# 터미널에서 기존 서버 중지 (Ctrl+C) 후 재시작
npm run dev
```

---

## ✅ 설정 확인

설정 완료 후 아래 테스트로 확인:

```bash
curl -X POST http://localhost:3000/api/emails/send \
  -H "Content-Type: application/json" \
  -d '{
    "to": ["본인@gmail.com"],
    "subject": "테스트",
    "body": "테스트 이메일입니다."
  }'
```

응답에 `messageId`가 실제 값으로 반환되면 성공!

---

## 📧 다른 이메일 서비스 사용

### 네이버 메일
```bash
EMAIL_HOST=smtp.naver.com
EMAIL_PORT=587
EMAIL_SECURE=false
EMAIL_USER=본인@naver.com
EMAIL_PASS=네이버_SMTP_인증키
EMAIL_FROM="SaleManager <본인@naver.com>"
```

### Daum/카카오
```bash
EMAIL_HOST=smtp.kakao.com
EMAIL_PORT=465
EMAIL_SECURE=true
EMAIL_USER=본인@kakao.com
EMAIL_PASS=본인_비밀번호
EMAIL_FROM="SaleManager <본인@kakao.com>"
```

### Outlook/Hotmail
```bash
EMAIL_HOST=smtp-mail.outlook.com
EMAIL_PORT=587
EMAIL_SECURE=false
EMAIL_USER=본인@outlook.com
EMAIL_PASS=본인_비밀번호
EMAIL_FROM="SaleManager <본인@outlook.com>"
```

---

## ⚠️ 주의사항

1. **보안**: .env 파일은 절대 Git에 커밋하지 마세요
2. **방화벽**: 포트 587 사용 (TLS)
3. **Gmail**: 앱 비밀번호 사용 (일반 비밀번호 X)
4. **발송 제한**: Gmail은 하루 500건 제한

---

## 🎯 설정 후 사용법

1. http://localhost:5173/email 접속
2. 템플릿 선택 또는 직접 입력
3. 수신할 고객 선택
4. "발송" 클릭
5. 실제 이메일 수신함 확인!

---

## 🆘 도움이 필요하신가요?

**Gmail 앱 비밀번호 생성이 어려우신가요?**
- Google에 "gmail 앱 비밀번호 생성" 검색
- 또는 구글 지원 Chat으로 문의

**설정 후에도 발송이 안되나요?**
1. 방화벽 설정 확인 (포트 587)
2. 앱 비밀번호 정확히 입력했는지 확인
3. 백엔드 서버 재시작했는지 확인
